var path = require("path");

/**
 * GET /assets/js/mvc/vendor/plugins/jquery.smartbanner.js
 *
 * host: rain.okta1.com:1802
 * connection: keep-alive
 * user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:48.0) Gecko/20100101 Firefox/48.0
 * accept: * / *
 * accept-encoding: gzip
 * accept-language: en-US
 * cookie: DT=DI0jRgRLD_uQBqSzCUCxXy5OA; t=default; JSESSIONID=C8CAB112A54DECAB36F64A605FA44B2A
 * cache-control: no-cache, no-store
 * pragma: no-cache
 */

module.exports = function (req, res) {
  res.statusCode = 200;

  res.setHeader("server", "Apache-Coyote/1.1");
  res.setHeader("accept-ranges", "bytes");
  res.setHeader("etag", "W/\"9871-1477769062000\"");
  res.setHeader("last-modified", "Sat, 29 Oct 2016 19:24:22 GMT");
  res.setHeader("content-type", "text/javascript");
  res.setHeader("content-length", "9871");
  res.setHeader("date", "Sat, 05 Nov 2016 23:23:48 GMT");

  res.setHeader("x-yakbak-tape", path.basename(__filename, ".js"));

  res.write(new Buffer("LyohCiAqIGpRdWVyeSBTbWFydCBCYW5uZXIKICogQ29weXJpZ2h0IChjKSAyMDEyIEFybm9sZCBEYW5pZWxzIDxhcm5vbGRAamFzbnkubmV0PgogKiBCYXNlZCBvbiAnalF1ZXJ5IFNtYXJ0IFdlYiBBcHAgQmFubmVyJyBieSBLdXJ0IFplbmlzZWsgQCBremVuaS5jb20KICovCmRlZmluZShbImpxdWVyeSJdLCAvLyBSZXF1aXJlIGpxdWVyeQpmdW5jdGlvbigkKXsKCiFmdW5jdGlvbiAoJCkgewogICAgdmFyIFNtYXJ0QmFubmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLm9yaWdIdG1sTWFyZ2luID0gcGFyc2VGbG9hdCgkKCdodG1sJykuY3NzKCdtYXJnaW4tdG9wJykpIC8vIEdldCB0aGUgb3JpZ2luYWwgbWFyZ2luLXRvcCBvZiB0aGUgSFRNTCBlbGVtZW50IHNvIHdlIGNhbiB0YWtlIHRoYXQgaW50byBhY2NvdW50CiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuc21hcnRiYW5uZXIuZGVmYXVsdHMsIG9wdGlvbnMpCgogICAgICAgIHZhciBzdGFuZGFsb25lID0gbmF2aWdhdG9yLnN0YW5kYWxvbmUgLy8gQ2hlY2sgaWYgaXQncyBhbHJlYWR5IGEgc3RhbmRhbG9uZSB3ZWIgYXBwIG9yIHJ1bm5pbmcgd2l0aGluIGEgd2VidWkgdmlldyBvZiBhbiBhcHAgKG5vdCBtb2JpbGUgc2FmYXJpKQogICAgICAgICAgLCBVQSA9IG5hdmlnYXRvci51c2VyQWdlbnQKCiAgICAgICAgLy8gRGV0ZWN0IGJhbm5lciB0eXBlIChpT1Mgb3IgQW5kcm9pZCkKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlKSB7CiAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMub3B0aW9ucy5mb3JjZQogICAgICAgIH0gZWxzZSBpZiAoVUEubWF0Y2goL2lQYWR8aVBob25lfGlQb2QvaSkgIT0gbnVsbCkgewogICAgICAgICAgICBpZiAoVUEubWF0Y2goL1NhZmFyaS9pKSAhPSBudWxsICYmCiAgICAgICAgICAgICAgIChVQS5tYXRjaCgvQ3JpT1MvaSkgIT0gbnVsbCB8fAogICAgICAgICAgICAgICB3aW5kb3cuTnVtYmVyKG5hdmlnYXRvci51c2VyQWdlbnQuc3Vic3RyKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignT1MgJykgKyAzLCAzKS5yZXBsYWNlKCdfJywgJy4nKSkgPCA2KSkgdGhpcy50eXBlID0gJ2lvcycgLy8gQ2hlY2sgd2VidmlldyBhbmQgbmF0aXZlIHNtYXJ0IGJhbm5lciBzdXBwb3J0IChpT1MgNispCiAgICAgICAgfSBlbHNlIGlmIChVQS5tYXRjaCgvQW5kcm9pZC9pKSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdhbmRyb2lkJwogICAgICAgIH0gZWxzZSBpZiAoVUEubWF0Y2goL1dpbmRvd3MgTlQgNi4yL2kpICE9IG51bGwgJiYgVUEubWF0Y2goL1RvdWNoL2kpICE9PSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMudHlwZSA9ICd3aW5kb3dzJwogICAgICAgIH0KCiAgICAgICAgLy8gRG9uJ3Qgc2hvdyBiYW5uZXIgaWYgZGV2aWNlIGlzbid0IGlPUyBvciBBbmRyb2lkLCB3ZWJzaXRlIGlzIGxvYWRlZCBpbiBhcHAgb3IgdXNlciBkaXNtaXNzZWQgYmFubmVyCiAgICAgICAgaWYgKCF0aGlzLnR5cGUgfHwgc3RhbmRhbG9uZSB8fCB0aGlzLmdldENvb2tpZSgnc2ItY2xvc2VkJykgfHwgdGhpcy5nZXRDb29raWUoJ3NiLWluc3RhbGxlZCcpKSB7CiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgLy8gQ2FsY3VsYXRlIHNjYWxlCiAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMub3B0aW9ucy5zY2FsZSA9PSAnYXV0bycgPyAkKHdpbmRvdykud2lkdGgoKSAvIHdpbmRvdy5zY3JlZW4ud2lkdGggOiB0aGlzLm9wdGlvbnMuc2NhbGUKICAgICAgICBpZiAodGhpcy5zY2FsZSA8IDEpIHRoaXMuc2NhbGUgPSAxCgogICAgICAgIC8vIEdldCBpbmZvIGZyb20gbWV0YSBkYXRhCiAgICAgICAgdmFyIG1ldGEgPSAkKHRoaXMudHlwZSA9PSAnYW5kcm9pZCcgPyAnbWV0YVtuYW1lPSJnb29nbGUtcGxheS1hcHAiXScgOgogICAgICAgICAgICB0aGlzLnR5cGUgPT0gJ2lvcycgPyAnbWV0YVtuYW1lPSJhcHBsZS1pdHVuZXMtYXBwIl0nIDogJ21ldGFbbmFtZT0ibXNBcHBsaWNhdGlvbi1JRCJdJyk7CiAgICAgICAgaWYgKG1ldGEubGVuZ3RoID09IDApIHJldHVybgoKICAgICAgICAvLyBGb3IgV2luZG93cyBTdG9yZSBhcHBzLCBnZXQgdGhlIFBhY2thZ2VGYW1pbHlOYW1lIGZvciBwcm90b2NvbCBsYXVuY2gKICAgICAgICBpZiAodGhpcy50eXBlID09ICd3aW5kb3dzJykgewogICAgICAgICAgICB0aGlzLnBmbiA9ICQoJ21ldGFbbmFtZT0ibXNBcHBsaWNhdGlvbi1QYWNrYWdlRmFtaWx5TmFtZSJdJykuYXR0cignY29udGVudCcpOwogICAgICAgICAgICB0aGlzLmFwcElkID0gbWV0YS5hdHRyKCdjb250ZW50JylbMV0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmFwcElkID0gL2FwcC1pZD0oW15ccyxdKykvLmV4ZWMobWV0YS5hdHRyKCdjb250ZW50JykpWzFdCiAgICAgICAgfQoKICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy5vcHRpb25zLnRpdGxlID8gdGhpcy5vcHRpb25zLnRpdGxlIDogJCgndGl0bGUnKS50ZXh0KCkucmVwbGFjZSgvXHMqW3xcLcK3XS4qJC8sICcnKQogICAgICAgIHRoaXMuYXV0aG9yID0gdGhpcy5vcHRpb25zLmF1dGhvciA/IHRoaXMub3B0aW9ucy5hdXRob3IgOiAoJCgnbWV0YVtuYW1lPSJhdXRob3IiXScpLmxlbmd0aCA/ICQoJ21ldGFbbmFtZT0iYXV0aG9yIl0nKS5hdHRyKCdjb250ZW50JykgOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpCgogICAgICAgIC8vIENyZWF0ZSBiYW5uZXIKICAgICAgICB0aGlzLmNyZWF0ZSgpCiAgICAgICAgdGhpcy5zaG93KCkKICAgICAgICB0aGlzLmxpc3RlbigpCiAgICB9CgogICAgU21hcnRCYW5uZXIucHJvdG90eXBlID0gewoKICAgICAgICBjb25zdHJ1Y3RvcjogU21hcnRCYW5uZXIKCiAgICAgICwgY3JlYXRlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGljb25VUkwKICAgICAgICAgICAgICAsIGxpbms9KHRoaXMub3B0aW9ucy51cmwgPyB0aGlzLm9wdGlvbnMudXJsIDogKHRoaXMudHlwZSA9PSAnd2luZG93cycgPyAnbXMtd2luZG93cy1zdG9yZTpQRFA/UEZOPScgKyB0aGlzLnBmbiA6ICh0aGlzLnR5cGUgPT0gJ2FuZHJvaWQnID8gJ21hcmtldDovL2RldGFpbHM/aWQ9JyA6ICdodHRwczovL2l0dW5lcy5hcHBsZS5jb20vJyArIHRoaXMub3B0aW9ucy5hcHBTdG9yZUxhbmd1YWdlICsgJy9hcHAvaWQnKSkgKyB0aGlzLmFwcElkKQogICAgICAgICAgICAgICwgaW5TdG9yZT10aGlzLm9wdGlvbnMucHJpY2UgPyB0aGlzLm9wdGlvbnMucHJpY2UgKyAnIC0gJyArICh0aGlzLnR5cGUgPT0gJ2FuZHJvaWQnID8gdGhpcy5vcHRpb25zLmluR29vZ2xlUGxheSA6IHRoaXMudHlwZSA9PSAnaW9zJyA/IHRoaXMub3B0aW9ucy5pbkFwcFN0b3JlIDogdGhpcy5vcHRpb25zLmluV2luZG93c1N0b3JlKSA6ICcnCiAgICAgICAgICAgICAgLCBnbG9zcz10aGlzLm9wdGlvbnMuaWNvbkdsb3NzID09PSBudWxsID8gKHRoaXMudHlwZT09J2lvcycpIDogdGhpcy5vcHRpb25zLmljb25HbG9zcwoKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBpZD0ic21hcnRiYW5uZXIiIGNsYXNzPSInK3RoaXMudHlwZSsnIj48ZGl2IGNsYXNzPSJzYi1jb250YWluZXIiPjxhIGhyZWY9IiMiIGNsYXNzPSJzYi1jbG9zZSI+JnRpbWVzOzwvYT48c3BhbiBjbGFzcz0ic2ItaWNvbiI+PC9zcGFuPjxkaXYgY2xhc3M9InNiLWluZm8iPjxzdHJvbmc+Jyt0aGlzLnRpdGxlKyc8L3N0cm9uZz48c3Bhbj4nK3RoaXMuYXV0aG9yKyc8L3NwYW4+PHNwYW4+JytpblN0b3JlKyc8L3NwYW4+PC9kaXY+PGEgaHJlZj0iJytsaW5rKyciIGNsYXNzPSJzYi1idXR0b24iPjxzcGFuPicrdGhpcy5vcHRpb25zLmJ1dHRvbisnPC9zcGFuPjwvYT48L2Rpdj48L2Rpdj4nKQoKICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pY29uKSB7CiAgICAgICAgICAgICAgICBpY29uVVJMID0gdGhpcy5vcHRpb25zLmljb24KICAgICAgICAgICAgfSBlbHNlIGlmICgkKCdsaW5rW3JlbD0iYXBwbGUtdG91Y2gtaWNvbi1wcmVjb21wb3NlZCJdJykubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgaWNvblVSTCA9ICQoJ2xpbmtbcmVsPSJhcHBsZS10b3VjaC1pY29uLXByZWNvbXBvc2VkIl0nKS5hdHRyKCdocmVmJykKICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaWNvbkdsb3NzID09PSBudWxsKSBnbG9zcyA9IGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgnbGlua1tyZWw9ImFwcGxlLXRvdWNoLWljb24iXScpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGljb25VUkwgPSAkKCdsaW5rW3JlbD0iYXBwbGUtdG91Y2gtaWNvbiJdJykuYXR0cignaHJlZicpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgnbWV0YVtuYW1lPSJtc0FwcGxpY2F0aW9uLVRpbGVJbWFnZSJdJykubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIGljb25VUkwgPSAkKCdtZXRhW25hbWU9Im1zQXBwbGljYXRpb24tVGlsZUltYWdlIl0nKS5hdHRyKCdjb250ZW50JykKICAgICAgICAgICAgfSBlbHNlIGlmICgkKCdtZXRhW25hbWU9Im1zYXBwbGljYXRpb24tVGlsZUltYWdlIl0nKS5sZW5ndGggPiAwKSB7IC8qIHJlZHVuZGFudCBiZWNhdXNlIG1zIGRvY3Mgc2hvdyB0d28gY2FzZSB1c2FnZXMgKi8KICAgICAgICAgICAgICBpY29uVVJMID0gJCgnbWV0YVtuYW1lPSJtc2FwcGxpY2F0aW9uLVRpbGVJbWFnZSJdJykuYXR0cignY29udGVudCcpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChpY29uVVJMKSB7CiAgICAgICAgICAgICAgICAkKCcjc21hcnRiYW5uZXIgLnNiLWljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoJytpY29uVVJMKycpJykKICAgICAgICAgICAgICAgIGlmIChnbG9zcykgJCgnI3NtYXJ0YmFubmVyIC5zYi1pY29uJykuYWRkQ2xhc3MoJ2dsb3NzJykKICAgICAgICAgICAgfSBlbHNlewogICAgICAgICAgICAgICAgJCgnI3NtYXJ0YmFubmVyJykuYWRkQ2xhc3MoJ25vLWljb24nKQogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmJhbm5lckhlaWdodCA9ICQoJyNzbWFydGJhbm5lcicpLm91dGVySGVpZ2h0KCkgKyAyCgogICAgICAgICAgICBpZiAodGhpcy5zY2FsZSA+IDEpIHsKICAgICAgICAgICAgICAgICQoJyNzbWFydGJhbm5lcicpCiAgICAgICAgICAgICAgICAgICAgLmNzcygndG9wJywgcGFyc2VGbG9hdCgkKCcjc21hcnRiYW5uZXInKS5jc3MoJ3RvcCcpKSAqIHRoaXMuc2NhbGUpCiAgICAgICAgICAgICAgICAgICAgLmNzcygnaGVpZ2h0JywgcGFyc2VGbG9hdCgkKCcjc21hcnRiYW5uZXInKS5jc3MoJ2hlaWdodCcpKSAqIHRoaXMuc2NhbGUpCiAgICAgICAgICAgICAgICAkKCcjc21hcnRiYW5uZXIgLnNiLWNvbnRhaW5lcicpCiAgICAgICAgICAgICAgICAgICAgLmNzcygnLXdlYmtpdC10cmFuc2Zvcm0nLCAnc2NhbGUoJyt0aGlzLnNjYWxlKycpJykKICAgICAgICAgICAgICAgICAgICAuY3NzKCctbXNpZS10cmFuc2Zvcm0nLCAnc2NhbGUoJyt0aGlzLnNjYWxlKycpJykKICAgICAgICAgICAgICAgICAgICAuY3NzKCctbW96LXRyYW5zZm9ybScsICdzY2FsZSgnK3RoaXMuc2NhbGUrJyknKQogICAgICAgICAgICAgICAgICAgIC5jc3MoJ3dpZHRoJywgJCh3aW5kb3cpLndpZHRoKCkgLyB0aGlzLnNjYWxlKQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgLCBsaXN0ZW46IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgnI3NtYXJ0YmFubmVyIC5zYi1jbG9zZScpLmxpdmUoJ2NsaWNrJywkLnByb3h5KHRoaXMuY2xvc2UsIHRoaXMpKQogICAgICAgICAgICAkKCcjc21hcnRiYW5uZXIgLnNiLWJ1dHRvbicpLmxpdmUoJ2NsaWNrJywkLnByb3h5KHRoaXMuaW5zdGFsbCwgdGhpcykpCiAgICAgICAgfQoKICAgICAgLCBzaG93OiBmdW5jdGlvbihjYWxsYmFjaykgewogICAgICAgICAgICAkKCcjc21hcnRiYW5uZXInKS5zdG9wKCkuYW5pbWF0ZSh7dG9wOjB9LHRoaXMub3B0aW9ucy5zcGVlZEluKS5hZGRDbGFzcygnc2hvd24nKQogICAgICAgICAgICAkKCdodG1sJykuYW5pbWF0ZSh7bWFyZ2luVG9wOnRoaXMub3JpZ0h0bWxNYXJnaW4rKHRoaXMuYmFubmVySGVpZ2h0KnRoaXMuc2NhbGUpfSx0aGlzLm9wdGlvbnMuc3BlZWRJbiwnc3dpbmcnLGNhbGxiYWNrKQogICAgICAgIH0KCiAgICAgICwgaGlkZTogZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgICAgICAgICAgJCgnI3NtYXJ0YmFubmVyJykuc3RvcCgpLmFuaW1hdGUoe3RvcDotMSp0aGlzLmJhbm5lckhlaWdodCp0aGlzLnNjYWxlfSx0aGlzLm9wdGlvbnMuc3BlZWRPdXQpLnJlbW92ZUNsYXNzKCdzaG93bicpCiAgICAgICAgICAgICQoJ2h0bWwnKS5hbmltYXRlKHttYXJnaW5Ub3A6dGhpcy5vcmlnSHRtbE1hcmdpbn0sdGhpcy5vcHRpb25zLnNwZWVkT3V0LCdzd2luZycsY2FsbGJhY2spCiAgICAgICAgfQoKICAgICAgLCBjbG9zZTogZnVuY3Rpb24oZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgdGhpcy5oaWRlKCkKICAgICAgICAgICAgdGhpcy5zZXRDb29raWUoJ3NiLWNsb3NlZCcsJ3RydWUnLHRoaXMub3B0aW9ucy5kYXlzSGlkZGVuKQogICAgICAgIH0KCiAgICAgICwgaW5zdGFsbDogZnVuY3Rpb24oZSkgewogICAgICAgICAgICB0aGlzLmhpZGUoKQogICAgICAgICAgICB0aGlzLnNldENvb2tpZSgnc2ItaW5zdGFsbGVkJywndHJ1ZScsdGhpcy5vcHRpb25zLmRheXNSZW1pbmRlcikKICAgICAgICB9CgogICAgICAsIHNldENvb2tpZTogZnVuY3Rpb24obmFtZSwgdmFsdWUsIGV4ZGF5cykgewogICAgICAgICAgICB2YXIgZXhkYXRlID0gbmV3IERhdGUoKQogICAgICAgICAgICBleGRhdGUuc2V0RGF0ZShleGRhdGUuZ2V0RGF0ZSgpK2V4ZGF5cykKICAgICAgICAgICAgdmFsdWU9ZXNjYXBlKHZhbHVlKSsoKGV4ZGF5cz09bnVsbCk/Jyc6JzsgZXhwaXJlcz0nK2V4ZGF0ZS50b1VUQ1N0cmluZygpKQogICAgICAgICAgICBkb2N1bWVudC5jb29raWU9bmFtZSsnPScrdmFsdWUrJzsgcGF0aD0vOycKICAgICAgICB9CgogICAgICAsIGdldENvb2tpZTogZnVuY3Rpb24obmFtZSkgewogICAgICAgICAgICB2YXIgaSx4LHksQVJSY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpCiAgICAgICAgICAgIGZvcihpPTA7aTxBUlJjb29raWVzLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgIHggPSBBUlJjb29raWVzW2ldLnN1YnN0cigwLEFSUmNvb2tpZXNbaV0uaW5kZXhPZigiPSIpKQogICAgICAgICAgICAgICAgeSA9IEFSUmNvb2tpZXNbaV0uc3Vic3RyKEFSUmNvb2tpZXNbaV0uaW5kZXhPZigiPSIpKzEpCiAgICAgICAgICAgICAgICB4ID0geC5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikKICAgICAgICAgICAgICAgIGlmICh4PT1uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZXNjYXBlKHkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG51bGwKICAgICAgICB9CgogICAgICAvLyBEZW1vIG9ubHkKICAgICAgLCBzd2l0Y2hUeXBlOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciB0aGF0ID0gdGhpcwoKICAgICAgICAgIHRoaXMuaGlkZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdGhhdC50eXBlID0gdGhhdC50eXBlID09ICdhbmRyb2lkJyA/ICdpb3MnIDogJ2FuZHJvaWQnCiAgICAgICAgICAgICAgdmFyIG1ldGEgPSAkKHRoYXQudHlwZSA9PSAnYW5kcm9pZCcgPyAnbWV0YVtuYW1lPSJnb29nbGUtcGxheS1hcHAiXScgOiAnbWV0YVtuYW1lPSJhcHBsZS1pdHVuZXMtYXBwIl0nKS5hdHRyKCdjb250ZW50JykKICAgICAgICAgICAgICB0aGF0LmFwcElkID0gL2FwcC1pZD0oW15ccyxdKykvLmV4ZWMobWV0YSlbMV0KCiAgICAgICAgICAgICAgJCgnI3NtYXJ0YmFubmVyJykuZGV0YWNoKCkKICAgICAgICAgICAgICB0aGF0LmNyZWF0ZSgpCiAgICAgICAgICAgICAgdGhhdC5zaG93KCkKICAgICAgICAgIH0pCiAgICAgIH0KICAgIH0KCiAgICAkLnNtYXJ0YmFubmVyID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpCiAgICAgICAgLCBkYXRhID0gJHdpbmRvdy5kYXRhKCd0eXBlYWhlYWQnKQogICAgICAgICwgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uCiAgICAgICAgaWYgKCFkYXRhKSAkd2luZG93LmRhdGEoJ3R5cGVhaGVhZCcsIChkYXRhID0gbmV3IFNtYXJ0QmFubmVyKG9wdGlvbnMpKSkKICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCkKICAgIH0KCiAgICAvLyBvdmVycmlkZSB0aGVzZSBnbG9iYWxseSBpZiB5b3UgbGlrZSAodGhleSBhcmUgYWxsIG9wdGlvbmFsKQogICAgJC5zbWFydGJhbm5lci5kZWZhdWx0cyA9IHsKICAgICAgICB0aXRsZTogbnVsbCwgLy8gV2hhdCB0aGUgdGl0bGUgb2YgdGhlIGFwcCBzaG91bGQgYmUgaW4gdGhlIGJhbm5lciAoZGVmYXVsdHMgdG8gPHRpdGxlPikKICAgICAgICBhdXRob3I6IG51bGwsIC8vIFdoYXQgdGhlIGF1dGhvciBvZiB0aGUgYXBwIHNob3VsZCBiZSBpbiB0aGUgYmFubmVyIChkZWZhdWx0cyB0byA8bWV0YSBuYW1lPSJhdXRob3IiPiBvciBob3N0bmFtZSkKICAgICAgICBwcmljZTogJ0ZSRUUnLCAvLyBQcmljZSBvZiB0aGUgYXBwCiAgICAgICAgYXBwU3RvcmVMYW5ndWFnZTogJ3VzJywgLy8gTGFuZ3VhZ2UgY29kZSBmb3IgQXBwIFN0b3JlCiAgICAgICAgaW5BcHBTdG9yZTogJ09uIHRoZSBBcHAgU3RvcmUnLCAvLyBUZXh0IG9mIHByaWNlIGZvciBpT1MKICAgICAgICBpbkdvb2dsZVBsYXk6ICdJbiBHb29nbGUgUGxheScsIC8vIFRleHQgb2YgcHJpY2UgZm9yIEFuZHJvaWQKICAgICAgICBpbldpbmRvd3NTdG9yZTogJ0luIHRoZSBXaW5kb3dzIFN0b3JlJywgLy9UZXh0IG9mIHByaWNlIGZvciBXaW5kb3dzCiAgICAgICAgaWNvbjogbnVsbCwgLy8gVGhlIFVSTCBvZiB0aGUgaWNvbiAoZGVmYXVsdHMgdG8gPG1ldGEgbmFtZT0iYXBwbGUtdG91Y2gtaWNvbiI+KQogICAgICAgIGljb25HbG9zczogbnVsbCwgLy8gRm9yY2UgZ2xvc3MgZWZmZWN0IGZvciBpT1MgZXZlbiBmb3IgcHJlY29tcG9zZWQKICAgICAgICBidXR0b246ICdWSUVXJywgLy8gVGV4dCBmb3IgdGhlIGluc3RhbGwgYnV0dG9uCiAgICAgICAgdXJsOiBudWxsLCAvLyBUaGUgVVJMIGZvciB0aGUgYnV0dG9uLiBLZWVwIG51bGwgaWYgeW91IHdhbnQgdGhlIGJ1dHRvbiB0byBsaW5rIHRvIHRoZSBhcHAgc3RvcmUuCiAgICAgICAgc2NhbGU6ICdhdXRvJywgLy8gU2NhbGUgYmFzZWQgb24gdmlld3BvcnQgc2l6ZSAoc2V0IHRvIDEgdG8gZGlzYWJsZSkKICAgICAgICBzcGVlZEluOiAzMDAsIC8vIFNob3cgYW5pbWF0aW9uIHNwZWVkIG9mIHRoZSBiYW5uZXIKICAgICAgICBzcGVlZE91dDogNDAwLCAvLyBDbG9zZSBhbmltYXRpb24gc3BlZWQgb2YgdGhlIGJhbm5lcgogICAgICAgIGRheXNIaWRkZW46IDE1LCAvLyBEdXJhdGlvbiB0byBoaWRlIHRoZSBiYW5uZXIgYWZ0ZXIgYmVpbmcgY2xvc2VkICgwID0gYWx3YXlzIHNob3cgYmFubmVyKQogICAgICAgIGRheXNSZW1pbmRlcjogOTAsIC8vIER1cmF0aW9uIHRvIGhpZGUgdGhlIGJhbm5lciBhZnRlciAiVklFVyIgaXMgY2xpY2tlZCAqc2VwYXJhdGUgZnJvbSB3aGVuIHRoZSBjbG9zZSBidXR0b24gaXMgY2xpY2tlZCogKDAgPSBhbHdheXMgc2hvdyBiYW5uZXIpCiAgICAgICAgZm9yY2U6IG51bGwgLy8gQ2hvb3NlICdpb3MnLCAnYW5kcm9pZCcgb3IgJ3dpbmRvd3MnLiBEb24ndCBkbyBhIGJyb3dzZXIgY2hlY2ssIGp1c3QgYWx3YXlzIHNob3cgdGhpcyBiYW5uZXIKICAgIH0KCiAgICAkLnNtYXJ0YmFubmVyLkNvbnN0cnVjdG9yID0gU21hcnRCYW5uZXIKCn0oJCk7Cn0pOw==", "base64"));
  res.end();

  return __filename;
};

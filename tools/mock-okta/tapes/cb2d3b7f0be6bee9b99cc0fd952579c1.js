var path = require("path");

/**
 * GET /assets/js/mvc/loginpage/Util.js
 *
 * host: rain.okta1.com:1802
 * connection: keep-alive
 * user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:48.0) Gecko/20100101 Firefox/48.0
 * accept: * / *
 * accept-encoding: gzip
 * accept-language: en-US
 * cookie: DT=DI0jRgRLD_uQBqSzCUCxXy5OA; t=default; JSESSIONID=C8CAB112A54DECAB36F64A605FA44B2A
 * cache-control: no-cache, no-store
 * pragma: no-cache
 */

module.exports = function (req, res) {
  res.statusCode = 200;

  res.setHeader("server", "Apache-Coyote/1.1");
  res.setHeader("accept-ranges", "bytes");
  res.setHeader("etag", "W/\"4586-1477768984000\"");
  res.setHeader("last-modified", "Sat, 29 Oct 2016 19:23:04 GMT");
  res.setHeader("content-type", "text/javascript");
  res.setHeader("content-length", "4586");
  res.setHeader("date", "Sat, 05 Nov 2016 23:23:48 GMT");

  res.setHeader("x-yakbak-tape", path.basename(__filename, ".js"));

  res.write(new Buffer("LyogZXNsaW50IG1heC1zdGF0ZW1lbnRzOiBbMiwgMTZdICovCmRlZmluZShbCiAgJ2pxdWVyeScsCiAgJ2hhbmRsZWJhcnMnLAogICdzaGFyZWQvdXRpbC9Db29raWUnLAogICdsb2dpbnBhZ2UvaTE4bi9jYWNoZWJ1c3QtbWFwJywKICAndmVuZG9yL3BsdWdpbnMvanF1ZXJ5LmJyb3dzZXInCl0sIGZ1bmN0aW9uICgkLCBIYW5kbGViYXJzLCBDb29raWUsIGNhY2hlYnVzdE1hcCkgewoKICB2YXIgdHBsID0gSGFuZGxlYmFycy5jb21waWxlOwogIHZhciBmb3JtVHBsID0gdHBsKCc8Zm9ybSBtZXRob2Q9IlBPU1QiIGFjdGlvbj0ie3thY3Rpb259fSI+PC9mb3JtPicpOwogIHZhciBpbnB1dFRwbCA9IHRwbCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ie3tuYW1lfX0iIHZhbHVlPSJ7e3ZhbHVlfX0iIC8+Jyk7CgogIHZhciBVdGlsID0ge307CgoKICB2YXIgamFtbWVyVGVtcGxhdGUgPSB7CiAgICAnY2hyb21lJzogJzxpbnB1dCBzdHlsZT0ib3BhY2l0eTogMDsgd2lkdGg6IDA7IGhlaWdodDogMDsiIGlkPSJva3RhX2hpZGRlbl91c2VybmFtZV9jaHJvbWVfc2VxdWVuY2Vfbm8iIFwKICAgICAgICAgICAgICAgIHR5cGU9InRleHQiIGF1dG9jb21wbGV0ZT0ib2ZmIiAvPlwKICAgICAgICAgICAgICAgIDxpbnB1dCBzdHlsZT0ib3BhY2l0eTogMDsgd2lkdGg6IDA7IGhlaWdodDogMDsiIGlkPSJva3RhX2hpZGRlbl9wYXNzX2Nocm9tZV9zZXF1ZW5jZV9ubyJcCiAgICAgICAgICAgICAgICB0eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJvZmYiIC8+JywKCiAgICAnc2FmYXJpJyA6ICc8aW5wdXQgc3R5bGU9Im9wYWNpdHk6IDA7IHdpZHRoOiAwOyBoZWlnaHQ6IDA7IiBpZD0ib2t0YV9oaWRkZW5fcGFzc19zYWZhcmlfc2VxdWVuY2Vfbm8iIFwKICAgICAgICAgICAgICAgICAgdHlwZT0icGFzc3dvcmQiIGF1dG9jb21wbGV0ZT0ib2ZmIiAvPicsCgogICAgJ21vemlsbGEnOiAnPGlucHV0IHN0eWxlPSJkaXNwbGF5Om5vbmUiIHR5cGU9InBhc3N3b3JkIiBpZD0ib2t0YV9oaWRkZW5fcGFzc19maXJlZm94X3NlcXVlbmNlX25vIiBcCiAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZT0ib2ZmIiB2YWx1ZT0idGVzdCIgLz4nLAoKICAgICdtc2llJzogJzxpbnB1dCBpZD0ib2t0YV9oaWRkZW5fcGFzc19pZV9zZXF1ZW5jZV9ubyIgdHlwZT0icGFzc3dvcmQiIGF1dG9jb21wbGV0ZT0ib2ZmIlwKICAgICAgICAgICAgICBzdHlsZT0iZGlzcGxheTpub25lIiB2YWx1ZSA9ICJ0ZXN0X3NlcXVlbmNlX25vIi8+JwogIH07CgogIHZhciBjbGVhckJlZW5Ub0hvbWVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgQ29va2llLnJlbW92ZUNvb2tpZSgnYW8nLCB7cGF0aDonLyd9KTsKICB9OwoKICB2YXIgcmVzZXRBdXRvTGF1bmNoID0gZnVuY3Rpb24gKCkgewogICAgQ29va2llLnJlbW92ZUNvb2tpZSgnYXV0b2xhdW5jaF90cmlnZ2VyZWQnLCB7cGF0aDogJy8nfSk7CiAgfTsKCiAgdmFyIGlzUG9zdFNhbWxFbWJlZFVybCA9IGZ1bmN0aW9uICh1cmwpIHsKICAgIC8vIEFQUF9TQU1MX0ZPUl9JTlNUQU5DRSBpcyAvYXBwL3thcHB9L3trZXl9L3Nzby9zYW1sCiAgICByZXR1cm4gdXJsLnNlYXJjaCgvXC9hcHBcL1teL10rXC9bXi9dK1wvc3NvXC9zYW1sLipcPy9pKSAhPT0gLTE7CiAgfTsKCiAgLy8gUG9zdHMgdG8gYSBnaXZlbiB1cmwsIGNvbnZlcnRpbmcgYW55IHF1ZXJ5IHBhcmFtcyB0byBwb3N0IHBhcmFtcy4gVGhpcyBpcwogIC8vIGRvbmUgYnkgY3JlYXRpbmcgYSBmb3JtIG9uIHRoZSBwYWdlLCBwYXJzaW5nIHRoZSBwYXJhbXMgZnJvbSB0aGUgdXJsLCBhbmQKICAvLyBzdWJtaXR0aW5nIGl0LgogIC8vICRlbCBpcyBhbiBlbGVtZW50IHRvIGFwcGVuZCB0aGUgZm9ybSB0by4KICB2YXIgcG9zdFRvVXJsID0gZnVuY3Rpb24gKHVybCwgJGVsKSB7CiAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJz8nKSwKICAgICAgICBiYXNlVXJsID0gcGFydHNbMF0sCiAgICAgICAgcXVlcnlTdHJpbmcgPSBwYXJ0c1sxXSwKICAgICAgICBxdWVyeVBhcmFtcywKICAgICAgICBmb3JtOwogICAgZm9ybSA9ICQoZm9ybVRwbCh7IGFjdGlvbjogYmFzZVVybCB9KSk7CiAgICBpZiAocXVlcnlTdHJpbmcpIHsKICAgICAgcXVlcnlQYXJhbXMgPSBxdWVyeVN0cmluZy5zcGxpdCgnJicpOwogICAgICAkLmVhY2gocXVlcnlQYXJhbXMsIGZ1bmN0aW9uIChpLCBwYXJhbSkgewogICAgICAgIHZhciB0b2tlbnMgPSBwYXJhbS5zcGxpdCgnPScpOwogICAgICAgIGZvcm0uYXBwZW5kKGlucHV0VHBsKHsKICAgICAgICAgIG5hbWU6IHRva2Vuc1swXSwKICAgICAgICAgIHZhbHVlOiBkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzFdKQogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9CiAgICAkZWwuYXBwZW5kKGZvcm0pOwogICAgZm9ybS5zdWJtaXQoKTsKICB9OwoKICB2YXIgYWRkUGFzc3dvcmRKYW1tZXJzID0gZnVuY3Rpb24gKCRlbCkgewogICAgdmFyIGhpZGRlbklucHV0LCBicm93c2VyLCB0b3RhbFJlcGV0aXRpb25zOwoKICAgIGlmICgkLmJyb3dzZXIuY2hyb21lKSB7CiAgICAgIGhpZGRlbklucHV0ID0gcGFzc3dvcmRKYW1tZXJGYWN0b3J5KCdjaHJvbWUnLCAzKTsKICAgICAgJGVsLnByZXBlbmQoaGlkZGVuSW5wdXQpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoJC5icm93c2VyLnNhZmFyaSkgewogICAgICBicm93c2VyID0gJ3NhZmFyaSc7CiAgICAgIHRvdGFsUmVwZXRpdGlvbnMgPSAyOwogICAgfSBlbHNlIGlmICgkLmJyb3dzZXIubW96aWxsYSkgewogICAgICBicm93c2VyID0gJ21vemlsbGEnOwogICAgICB0b3RhbFJlcGV0aXRpb25zID0gMzsKICAgIH0gZWxzZSB7CiAgICAgIGJyb3dzZXIgPSAnbXNpZSc7CiAgICAgIHRvdGFsUmVwZXRpdGlvbnMgPSAyOwogICAgfQogICAgaGlkZGVuSW5wdXQgPSBwYXNzd29yZEphbW1lckZhY3RvcnkoYnJvd3NlciwgdG90YWxSZXBldGl0aW9ucyk7CiAgICAkZWwuYXBwZW5kKGhpZGRlbklucHV0KTsKICB9OwoKICBmdW5jdGlvbiBwYXNzd29yZEphbW1lckZhY3RvcnkoYnJvd3NlciwgdG90YWxSZXBldGl0aW9ucykgewoKICAgIHZhciBjdXJyZW50VGVtcGxhdGUgPSBqYW1tZXJUZW1wbGF0ZVticm93c2VyXSwKICAgICAgICByZXN1bHQgPSAnJywKICAgICAgICBpOwoKICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbFJlcGV0aXRpb25zOyBpKyspIHsKICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChjdXJyZW50VGVtcGxhdGUucmVwbGFjZSgvc2VxdWVuY2Vfbm8vZywgKGkrMSkpKTsKICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICAvLyBSZXdyaXRlcyB0aGUgZGVmYXVsdCBTaWduLWluIFdpZGdldCBhc3NldCBidW5kbGUgcGF0aHMgdG8gaGFuZGxlIG91cgogIC8vIGludGVybmFsIGkxOG4ganNvbnAgZmlsZXM6CiAgLy8gMS4gQWRkIGNhY2hlYnVzdCBzaGEKICAvLyAyLiBSZXBsYWNlIC5qc29ucCB3aXRoIC5qcwogIHZhciBwYXRoUmUgPSBuZXcgUmVnRXhwKCcvKFteL10qKVwuanNvbnAkJyk7CgogIGZ1bmN0aW9uIGFzc2V0UmV3cml0ZShwYXRoKSB7CiAgICB2YXIgbWF0Y2hlcyA9IHBhdGhSZS5leGVjKHBhdGgpOwogICAgaWYgKCFtYXRjaGVzIHx8ICFjYWNoZWJ1c3RNYXBbbWF0Y2hlc1sxXV0pIHsKICAgICAgcmV0dXJuIHBhdGg7CiAgICB9CiAgICByZXR1cm4gJy8nICsgY2FjaGVidXN0TWFwW21hdGNoZXNbMV1dICsgJy5qcyc7CiAgfQoKICAvLyBPS1RBLTEwMTUwOTogVGhlcmUgYXJlIGVtYmVkZGVkIGJyb3dzZXJzIHRoYXQgaGF2ZSBwdXNoU3RhdGUsIGJ1dCB0aHJvdwogIC8vIGFuIGVycm9yIHdoZW4gaXQncyBjYWxsZWQuIFNvLCB3ZSBhY3R1YWxseSBjYWxsIHJlcGxhY2VTdGF0ZSBpbiBhIHRyeS9jYXRjaAogIC8vIHRvIHNlZSBpZiBpdCBoaXRzIHRoaXMgY29uZGl0aW9uLgogIGZ1bmN0aW9uIHN1cHBvcnRzUm91dGVyKCkgewogICAgdmFyIHN1cHBvcnRzUHVzaCA9ICEhKHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSksCiAgICAgICAgc3VwcG9ydHNSZXBsYWNlID0gc3VwcG9ydHNQdXNoICYmIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZTsKICAgIGlmICghc3VwcG9ydHNQdXNoIHx8ICFzdXBwb3J0c1JlcGxhY2UpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdHJ5IHsKICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBkb2N1bWVudC50aXRsZSwgbG9jYXRpb24uaHJlZik7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICBVdGlsID0gewogICAgY2xlYXJCZWVuVG9Ib21lUGFnZTogY2xlYXJCZWVuVG9Ib21lUGFnZSwKICAgIHJlc2V0QXV0b0xhdW5jaDogcmVzZXRBdXRvTGF1bmNoLAogICAgaXNQb3N0U2FtbEVtYmVkVXJsOiBpc1Bvc3RTYW1sRW1iZWRVcmwsCiAgICBwb3N0VG9Vcmw6IHBvc3RUb1VybCwKICAgIGFkZFBhc3N3b3JkSmFtbWVyczogYWRkUGFzc3dvcmRKYW1tZXJzLAogICAgYXNzZXRSZXdyaXRlOiBhc3NldFJld3JpdGUsCiAgICBzdXBwb3J0c1JvdXRlcjogc3VwcG9ydHNSb3V0ZXIKICB9OwoKICByZXR1cm4gVXRpbDsKCn0pOwo=", "base64"));
  res.end();

  return __filename;
};

var path = require("path");

/**
 * GET /login/login.htm?fromURI=/oauth2/v1/authorize/redirect;jsessionid=C8CAB112A54DECAB36F64A605FA44B2A?okta_key=scsiaBORXe6htXjLWjQY5U6S7UPx2utd0eRCWp3seRo
 *
 * host: rain.okta1.com:1802
 * connection: keep-alive
 * user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:48.0) Gecko/20100101 Firefox/48.0
 * accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,* / *;q=0.8
 * accept-encoding: gzip
 * accept-language: en-US
 * cookie: t=default; DT=DI0jRgRLD_uQBqSzCUCxXy5OA; JSESSIONID=C8CAB112A54DECAB36F64A605FA44B2A
 * cache-control: no-cache, no-store
 * pragma: no-cache
 */

module.exports = function (req, res) {
  res.statusCode = 200;

  res.setHeader("server", "Apache-Coyote/1.1");
  res.setHeader("x-okta-request-id", "reqZ93rPsoDR_SXCg2V9bOJ-w");
  res.setHeader("x-rate-limit-limit", "850");
  res.setHeader("x-rate-limit-remaining", "849");
  res.setHeader("x-rate-limit-reset", "1478388288");
  res.setHeader("p3p", "CP=\"HONK\"");
  res.setHeader("set-cookie", ["sid=\"\"; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Path=/","t=default; Path=/","sid=\"\"; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Path=/","JSESSIONID=C8CAB112A54DECAB36F64A605FA44B2A; Path=/"]);
  res.setHeader("x-okta-backend", "K1104");
  res.setHeader("cache-control", "no-cache, no-store");
  res.setHeader("pragma", "no-cache");
  res.setHeader("expires", "0");
  res.setHeader("x-frame-options", "SAMEORIGIN");
  res.setHeader("x-ua-compatible", "IE=edge");
  res.setHeader("content-type", "text/html;charset=utf-8");
  res.setHeader("content-language", "en");
  res.setHeader("transfer-encoding", "chunked");
  res.setHeader("date", "Sat, 05 Nov 2016 23:23:48 GMT");

  res.setHeader("x-yakbak-tape", path.basename(__filename, ".js"));

  res.write(new Buffer("PCFET0NUWVBFIGh0bWw+CjwhLS1baWYgSUUgN10+PGh0bWwgY2xhc3M9Imx0LWllMTAgbHQtaWU5IGx0LWllOCI+PCFbZW5kaWZdLS0+CjwhLS1baWYgSUUgOF0+PGh0bWwgY2xhc3M9Imx0LWllMTAgbHQtaWU5Ij4gPCFbZW5kaWZdLS0+CjwhLS1baWYgSUUgOV0+PGh0bWwgY2xhc3M9Imx0LWllMTAiPjwhW2VuZGlmXS0tPgo8IS0tW2lmIGd0IElFIDldPjxodG1sPjwhW2VuZGlmXS0tPgo8IS0tW2lmICFJRV0+PCEtLT48aHRtbD48IS0tPCFbZW5kaWZdLS0+CjxoZWFkPgoKICAgIDx0aXRsZT5SYWluLUNsb3VkNTkgLSBTaWduIEluPC90aXRsZT4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCIgLz4KICAgIDxsaW5rIGhyZWY9Imh0dHA6Ly9yYWluLm9rdGExLmNvbToxODAyL2Fzc2V0cy9sb2dpbnBhZ2UvY3NzL29rdGEtc2lnbi1pbi5taW4uNWE2MmEzMzIxNTZmYmY4Y2EwOGU4M2MwMTY1MzAzZDMuY3NzIiB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0Ii8+PGxpbmsgaHJlZj0iaHR0cDovL3JhaW4ub2t0YTEuY29tOjE4MDIvYXNzZXRzL2xvZ2lucGFnZS9jc3MvbG9naW5wYWdlLXRoZW1lLmIyNTM5ZTQzYzc5M2RhZjQyOTM5YTBhY2ZmNTMwMzAwLmNzcyIgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIvPjxzY3JpcHQ+CiAgICAgICAgdmFyIG9rdGEgPSB7CiAgICAgICAgICAgIGxvY2FsZTogJ2VuJwogICAgICAgIH07CiAgICA8L3NjcmlwdD4KICAgIDxzY3JpcHQ+d2luZG93Lm9rdGEgfHwgKHdpbmRvdy5va3RhID0ge30pOyBva3RhLmNkblVybEhvc3RuYW1lID0gIiI7IG9rdGEuY2RuUGVyZm9ybUNoZWNrID0gZmFsc2U7PC9zY3JpcHQ+PC9oZWFkPgo8Ym9keSBjbGFzcz0iYXV0aCI+Cgo8IS0tW2lmIGd0ZSBJRSA4XT4KICA8IVtpZiBsdGUgSUUgOV0+CgogICAgPHN0eWxlPgogICAgLnVuc3VwcG9ydGVkLWJyb3dzZXItYmFubmVyLXdyYXAgewogICAgICBwYWRkaW5nOiAyMHB4OwogICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmYmZmOwogICAgfQogICAgLnVuc3VwcG9ydGVkLWJyb3dzZXItYmFubmVyLWlubmVyIHsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICB3aWR0aDogNzM1cHg7CiAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgfQogICAgLnVuc3VwcG9ydGVkLWJyb3dzZXItYmFubmVyLWlubmVyIC5pY29uIHsKICAgICAgdmVydGljYWwtYWxpZ246IHRvcDsKICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHBvc2l0aW9uOiBzdGF0aWMgIWltcG9ydGFudDsKICAgIH0KICAgIC51bnN1cHBvcnRlZC1icm93c2VyLWJhbm5lci1pbm5lciBhIHsKICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgICB9CiAgICA8L3N0eWxlPgoKICAgIDxkaXYgY2xhc3M9InVuc3VwcG9ydGVkLWJyb3dzZXItYmFubmVyLXdyYXAiPgogICAgICA8ZGl2IGNsYXNzPSJ1bnN1cHBvcnRlZC1icm93c2VyLWJhbm5lci1pbm5lciI+CiAgICAgICAgPHNwYW4gY2xhc3M9Imljb24gaWNvbi0xNiBpY29uLW9ubHkgd2FybmluZy0xNi15ZWxsb3ciPjwvc3Bhbj5Zb3UgYXJlIHVzaW5nIGFuIHVuc3VwcG9ydGVkIGJyb3dzZXIuIEZvciB0aGUgYmVzdCBleHBlcmllbmNlLCB1cGRhdGUgdG8gPGEgaHJlZj0iaHR0cHM6Ly9zdXBwb3J0Lm9rdGEuY29tL2hlbHAvYXJ0aWNsZXMvS25vd2xlZGdlX0FydGljbGUvMjQ1MzI5NTItUGxhdGZvcm1zLS0tQnJvd3Nlci1hbmQtT1MtU3VwcG9ydCI+YSBzdXBwb3J0ZWQgYnJvd3NlcjwvYT4uPC9kaXY+CiAgICA8L2Rpdj4KCiAgPCFbZW5kaWZdPgo8IVtlbmRpZl0tLT4KPCEtLVtpZiBJRSA4XT4gPGRpdiBjbGFzcz0ibG9naW4tYmctaW1hZ2UiIGRhdGEtc2U9ImxvZ2luLWJnLWltYWdlIiBzdHlsZT0iIj48L2Rpdj4gPCFbZW5kaWZdLS0+CjwhLS1baWYgKGd0IElFIDgpfCEoSUUpXT48IS0tPiA8ZGl2IGNsYXNzPSJsb2dpbi1iZy1pbWFnZSIgZGF0YS1zZT0ibG9naW4tYmctaW1hZ2UiIHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOiBub25lIj48L2Rpdj4gPCEtLTwhW2VuZGlmXS0tPgoKPGRpdiBjbGFzcz0iY29udGVudCI+CiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgIC5ub3NjcmlwdC1tc2cgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgICAgYm9yZGVyLWNvbG9yOiAjZGRkICNkZGQgI2Q4ZDhkODsKICAgICAgICBib3gtc2hhZG93OjAgMnB4IDAgcmdiYSgxNzUsIDE3NSwgMTc1LCAwLjEyKTsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgd2lkdGg6IDM5OHB4OwogICAgICAgIG1pbi13aWR0aDogMzAwcHg7CiAgICAgICAgbWFyZ2luOiAyMDBweCBhdXRvOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgICAgICBib3JkZXItd2lkdGg6IDFweDsKICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkOwogICAgfQoKICAgIC5ub3NjcmlwdC1jb250ZW50IHsKICAgICAgICBwYWRkaW5nOiA0MnB4OwogICAgfQoKICAgIC5ub3NjcmlwdC1jb250ZW50IGgyIHsKICAgICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDsKICAgIH0KCiAgICAubm9zY3JpcHQtY29udGVudCBoMSB7CiAgICAgICAgcGFkZGluZy1ib3R0b206IDI1cHg7CiAgICB9CgogICAgLm5vc2NyaXB0LWNvbnRlbnQgYSB7CiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICAgICAgYm94LXNoYWRvdzogbm9uZTsKICAgICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsOwogICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICAgICAgd2lkdGg6IDMxNHB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBsaW5lLWhlaWdodDogMzZweDsKICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoIzAwN2RjMSwgIzAwNzNiMiksICMwMDdkYzE7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQ7CiAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDA0Yjc1OwogICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICMwMDQ1NmE7CiAgICAgICAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjE1KSAwIDFweCAwLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSkgMCAxcHggMCAwIGluc2V0OwogICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgIH0KCiAgICAubm9zY3JpcHQtY29udGVudCBhOmhvdmVyIHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDA3ZGMxOwogICAgICAgIGN1cnNvcjogaGFuZDsKICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICB9Cjwvc3R5bGU+Cjxub3NjcmlwdD4KICAgIDxkaXYgaWQ9Im5vc2NyaXB0LW1zZyIgY2xhc3M9Im5vc2NyaXB0LW1zZyI+CiAgICAgICAgPGRpdiBjbGFzcz0ibm9zY3JpcHQtY29udGVudCI+CiAgICAgICAgICAgIDxoMj5KYXZhc2NyaXB0IGlzIHJlcXVpcmVkPC9oMj4KICAgICAgICAgICAgPGgxPkphdmFzY3JpcHQgaXMgZGlzYWJsZWQgb24geW91ciBicm93c2VyLiZuYnNwUGxlYXNlIGVuYWJsZSBKYXZhc2NyaXB0IGFuZCByZWZyZXNoIHRoaXMgcGFnZS48L2gxPgogICAgICAgICAgICA8YSBocmVmPSIuIj5SZWZyZXNoPC9hPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+Cjwvbm9zY3JpcHQ+CjxkaXYgaWQ9InNpZ25pbi1jb250YWluZXIiPjwvZGl2PgogIDxkaXYgaWQ9Im9rdGEtc2lnbi1pbiIgY2xhc3M9ImF1dGgtY29udGFpbmVyIG1haW4tY29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgICAgPGRpdiBjbGFzcz0idW5zdXBwb3J0ZWQtbWVzc2FnZSI+CiAgICAgICAgPGgyIGNsYXNzPSJvLWZvcm0taGVhZCI+WW91ciBPbmVEcml2ZSB2ZXJzaW9uIGlzIG5vdCBzdXBwb3J0ZWQ8L2gyPgogICAgICAgIDxwPlVwZ3JhZGUgbm93IGJ5IGluc3RhbGxpbmcgdGhlIE9uZURyaXZlIGZvciBCdXNpbmVzcyBOZXh0IEdlbmVyYXRpb24gU3luYyBDbGllbnQgdG8gbG9naW4gdG8gT2t0YTwvcD4KICAgICAgICA8YSBjbGFzcz0iYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9zdXBwb3J0Lm9rdGEuY29tL2hlbHAvYXJ0aWNsZXMvS25vd2xlZGdlX0FydGljbGUvVXBncmFkaW5nLXRvLU9uZURyaXZlLWZvci1CdXNpbmVzcy1OZXh0LUdlbmVyYXRpb24tU3luYy1DbGllbnQiPgogICAgICAgICAgTGVhcm4gaG93IHRvIHVwZ3JhZGU8L2E+CiAgICAgIDwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KCjxkaXYgY2xhc3M9ImZvb3RlciI+CiAgPGRpdiBjbGFzcz0iZm9vdGVyLWNvbnRhaW5lciBjbGVhcmZpeCI+CiAgICA8cCBjbGFzcz0iY29weXJpZ2h0Ij5Qb3dlcmVkIGJ5IDxhIGhyZWY9Imh0dHA6Ly93d3cub2t0YS5jb20vIiBjbGFzcz0iaW5saW5lLWJsb2NrIG5vdHJhbnNsYXRlIj5Pa3RhPC9hPjwvcD4KICAgIDxwIGNsYXNzPSJwcml2YWN5LXBvbGljeSI+PGEgaHJlZj0iL3ByaXZhY3kiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iaW5saW5lLWJsb2NrIG1hcmdpbi1sLTEwIj5Qcml2YWN5IFBvbGljeTwvYT48L3A+CiAgPC9kaXY+CjwvZGl2PgoKPHNjcmlwdCBzcmM9Imh0dHA6Ly9yYWluLm9rdGExLmNvbToxODAyL2Fzc2V0cy9qcy9tdmMvY29uZmlnL3JlcXVpcmUuY29uZmlnLjEzNWUyZDVhZjY2NjEyNzg0MzhkNzI5NjU4ZWEzYTZkLmpzIj48L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgdmFyIGJhc2VVcmwgPSAnaHR0cFx4M0FceDJGXHgyRnJhaW4ub2t0YTEuY29tXHgzQTE4MDInOwogIHZhciByZXBvc3QgPSBmYWxzZTsKICB2YXIgc3RhdGVUb2tlbiA9ICcnOwogIHZhciBmcm9tVXJpID0gJ1x4MkZvYXV0aDJceDJGdjFceDJGYXV0aG9yaXplXHgyRnJlZGlyZWN0XHgzQmpzZXNzaW9uaWRceDNEQzhDQUIxMTJBNTRERUNBQjM2RjY0QTYwNUZBNDRCMkFceDNGb2t0YV9rZXlceDNEc2NzaWFCT1JYZTZodFhqTFdqUVk1VTZTN1VQeDJ1dGQwZVJDV3Azc2VSbyc7CiAgdmFyIHVzZXJuYW1lID0gJyc7CiAgdmFyIHJlbWVtYmVyTWUgPSB0cnVlOwogIHZhciBzbXNSZWNvdmVyeSA9IGZhbHNlOwogIHZhciBjYWxsUmVjb3ZlcnkgPSBmYWxzZTsKICB2YXIgdXNlcm5hbWVMYWJlbCA9ICdVc2VybmFtZSc7CiAgdmFyIHVzZXJuYW1lSW5saW5lTGFiZWwgPSAnJzsKICB2YXIgcGFzc3dvcmRMYWJlbCA9ICdQYXNzd29yZCc7CiAgdmFyIHBhc3N3b3JkSW5saW5lTGFiZWwgPSAnJzsKICB2YXIgc2lnbmluTGFiZWwgPSAnU2lnblx4MjBJbic7CiAgdmFyIGZvcmdvdHBhc3N3b3JkTGFiZWwgPSAnRm9yZ290XHgyMHBhc3N3b3JkXHgzRic7CiAgdmFyIHVubG9ja2FjY291bnRMYWJlbCA9ICdVbmxvY2tceDIwYWNjb3VudFx4M0YnOwogIHZhciBoZWxwTGFiZWwgPSAnSGVscCc7CiAgdmFyIG9yZ1N1cHBvcnRQaG9uZU51bWJlciA9ICcnOwoKICB2YXIgc2VjdXJpdHlJbWFnZSA9IHRydWU7CiAgCgogIHZhciB3aW5kb3dzVmVyaWZ5ID0gZmFsc2U7CiAgCiAgICB3aW5kb3dzVmVyaWZ5ID0gdHJ1ZTsKICAKCiAgdmFyIHNlbGZTZXJ2aWNlVW5sb2NrID0gZmFsc2U7CiAgCgogIHZhciBwcmV2ZW50QnJvd3NlckZyb21TYXZpbmdPa3RhUGFzc3dvcmQgPSBmYWxzZTsKICAKCiAgdmFyIGF1dG9QdXNoID0gZmFsc2U7CiAgCgogIHZhciBwdWJsaXNoVG9BY2NvdW50Q2hvb3NlciA9IGZhbHNlOwogIHZhciBhY2NvdW50Q2hvb3NlckRpc2NvdmVyeVVybCA9IG51bGw7CiAgCgogIHZhciBjdXN0b21MaW5rcyA9IFtdOwogIAoKICByZXF1aXJlLmNvbmZpZyA9ICByZXF1aXJlLmNvbmZpZyB8fCB7fTsKICByZXF1aXJlLm1hcFsnKiddWydoYW5kbGViYXJzJ10gPSAnaGFuZGxlYmFycyc7CiAgcmVxdWlyZS5jb25maWdbJ21haW4tbG9naW4nXSA9IHsKICAgIGZyb21Vcmk6IGZyb21VcmksCiAgICByZXBvc3Q6IHJlcG9zdCwKICAgIHJlZGlyZWN0VXJpOiBiYXNlVXJsICsgZnJvbVVyaSwKICAgIGlzTW9iaWxlQ2xpZW50TG9naW46IGZhbHNlLAogICAgaXNNb2JpbGVTU086IGZhbHNlLAogICAgaGFzQ2hyb21lT1NGZWF0dXJlOiBmYWxzZSwKICAgIHNob3dMaW5rVG9BcHBTdG9yZTogZmFsc2UsCiAgICBwdWJsaXNoVG9BY2NvdW50Q2hvb3NlcjogcHVibGlzaFRvQWNjb3VudENob29zZXIsCiAgICBhY2NvdW50Q2hvb3NlckRpc2NvdmVyeVVybDogYWNjb3VudENob29zZXJEaXNjb3ZlcnlVcmwsCiAgICBwcmV2ZW50QnJvd3NlckZyb21TYXZpbmdPa3RhUGFzc3dvcmQ6IHByZXZlbnRCcm93c2VyRnJvbVNhdmluZ09rdGFQYXNzd29yZCwKCiAgICBzaWduSW46IHsKICAgICAgZWw6ICcjc2lnbmluLWNvbnRhaW5lcicsCiAgICAgIGJhc2VVcmw6IGJhc2VVcmwsCiAgICAgIGxvZ286ICdodHRwOi8vcmFpbi5va3RhMS5jb206MTgwMi9hc3NldHMvaW1nL2xvZ29zL29rdGEtbG9nby4wMGIyOGU1NTI1NzM4OTllMTVmYTZlNzcyNzg3NTlkNS5wbmcnLAogICAgICBoZWxwU3VwcG9ydE51bWJlcjogb3JnU3VwcG9ydFBob25lTnVtYmVyLAogICAgICBzdGF0ZVRva2VuOiBzdGF0ZVRva2VuLAogICAgICB1c2VybmFtZTogdXNlcm5hbWUsCgogICAgICBmZWF0dXJlczogewogICAgICAgIHJvdXRlcjogdHJ1ZSwKICAgICAgICBzZWN1cml0eUltYWdlOiBzZWN1cml0eUltYWdlLAogICAgICAgIHJlbWVtYmVyTWU6IHJlbWVtYmVyTWUsCiAgICAgICAgYXV0b1B1c2g6IGF1dG9QdXNoLAogICAgICAgIHNtc1JlY292ZXJ5OiBzbXNSZWNvdmVyeSwKICAgICAgICBjYWxsUmVjb3Zlcnk6IGNhbGxSZWNvdmVyeSwKICAgICAgICB3aW5kb3dzVmVyaWZ5OiB3aW5kb3dzVmVyaWZ5LAogICAgICAgIHNlbGZTZXJ2aWNlVW5sb2NrOiBzZWxmU2VydmljZVVubG9jaywKICAgICAgICBtdWx0aU9wdGlvbmFsRmFjdG9yRW5yb2xsOiB0cnVlCiAgICAgIH0sCgogICAgICBhc3NldHM6IHsKICAgICAgICBiYXNlVXJsOiBva3RhLmNkblVybEhvc3RuYW1lICsgJy9hc3NldHMvanMvbXZjL2xvZ2lucGFnZS9pMThuJwogICAgICB9LAoKICAgICAgbGFuZ3VhZ2U6IG9rdGEubG9jYWxlLAogICAgICBpMThuOiB7fSwKCiAgICAgIGhlbHBMaW5rczogewogICAgICAgIGhlbHA6ICcnLAogICAgICAgIGZvcmdvdFBhc3N3b3JkOiAnJywKICAgICAgICB1bmxvY2s6ICcnLAogICAgICAgIGN1c3RvbTogY3VzdG9tTGlua3MKICAgICAgfQogICAgfQogIH07CgogIHJlcXVpcmUuY29uZmlnWydtYWluLWxvZ2luJ10uc2lnbkluLmkxOG5bb2t0YS5sb2NhbGVdID0gewogICAgJ3ByaW1hcnlhdXRoLnVzZXJuYW1lLnBsYWNlaG9sZGVyJzogdXNlcm5hbWVMYWJlbCwKICAgICdwcmltYXJ5YXV0aC51c2VybmFtZS50b29sdGlwJzogdXNlcm5hbWVJbmxpbmVMYWJlbCwKICAgICdwcmltYXJ5YXV0aC5wYXNzd29yZC5wbGE=", "base64"));
  res.write(new Buffer("Y2Vob2xkZXInOiBwYXNzd29yZExhYmVsLAogICAgJ3ByaW1hcnlhdXRoLnBhc3N3b3JkLnRvb2x0aXAnOiBwYXNzd29yZElubGluZUxhYmVsLAogICAgJ3ByaW1hcnlhdXRoLnRpdGxlJzogc2lnbmluTGFiZWwsCiAgICAnZm9yZ290cGFzc3dvcmQnOiBmb3Jnb3RwYXNzd29yZExhYmVsLAogICAgJ3VubG9ja2FjY291bnQnOiB1bmxvY2thY2NvdW50TGFiZWwsCiAgICAnaGVscCc6IGhlbHBMYWJlbAogIH07Cgo8L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHA6Ly9yYWluLm9rdGExLmNvbToxODAyL2Fzc2V0cy9qcy9tdmMvdmVuZG9yL2xpYi9yZXF1aXJlLTIuMS4xOC5taW4uYjU3ZGVkNTQ5MmQ5MjIzMTQ5YWRiMWQ4ZmZmODg0YzAuanMiPjwvc2NyaXB0PjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5mdW5jdGlvbiBsb2FkUmVxdWlyZU1haW4oKSB7dmFyIG1haW5TY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTttYWluU2NyaXB0LnNyYyA9ICdodHRwOi8vcmFpbi5va3RhMS5jb206MTgwMi9hc3NldHMvanMvbXZjL2xvZ2lucGFnZS9tYWluLWxvZ2lucGFnZS4xZWNkZDhiNjBjOGMzNDE2Yjk4MjQyMWQ2YzBhMzY0Yi5qcyc7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChtYWluU2NyaXB0KTt9PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2ph", "base64"));
  res.write(new Buffer("dmFzY3JpcHQiPgogIGZ1bmN0aW9uIGlzT2xkV2ViQnJvd3NlckNvbnRyb2woKSB7CiAgICAvLyBXZSBubyBsb25nZXIgc3VwcG9ydCBJRTcuIElmIHdlIHNlZSB0aGUgTVNJRSA3LjAgYnJvd3NlciBtb2RlLCBpdCdzIGEgZ29vZCBzaWduYWwKICAgIC8vIHRoYXQgd2UncmUgaW4gYSB3aW5kb3dzIGVtYmVkZGVkIGJyb3dzZXIuCiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdNU0lFIDcuMCcpID09PSAtMSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gQmVjYXVzZSB0aGUgdXNlckFnZW50IGlzIHRoZSBzYW1lIGFjcm9zcyBlbWJlZGRlZCBicm93c2Vycywgd2UgdXNlIGZlYXR1cmUKICAgIC8vIGRldGVjdGlvbiB0byBzZWUgaWYgd2UncmUgcnVubmluZyBvbiBvbGRlciB2ZXJzaW9ucyB0aGF0IGRvIG5vdCBzdXBwb3J0IHVwZGF0aW5nCiAgICAvLyB0aGUgZG9jdW1lbnRNb2RlIHZpYSB4LXVhLWNvbXBhdGlibGUuCiAgICByZXR1cm4gZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjsKICB9CgogIHZhciB1bnN1cHBvcnRlZENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdva3RhLXNpZ24taW4nKTsKCiAgLy8gT2xkIHZlcnNpb25zIG9mIFdlYkJyb3dzZXIgQ29udHJvbHMgKHNwZWNpZmljYWxseSwgT25lRHJpdmUpIHJlbmRlciBpbiBJRTcgYnJvd3NlcgogIC8vIG1vZGUsIHdpdGggbm8gd2F5IHRvIG92ZXJyaWRlIHRoZSBkb2N1bWVudE1vZGUuIEluIHRoaXMgY2FzZSwgaW5mb3JtIHRoZSB1c2VyIHRoZXkgbmVlZAogIC8vIHRvIHVwZ3JhZGUuCiAgaWYgKGlzT2xkV2ViQnJvd3NlckNvbnRyb2woKSkgewogICAgdW5zdXBwb3J0ZWRDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwogIH0KICBlbHNlIHsKICAgIHVuc3VwcG9ydGVkQ29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodW5zdXBwb3J0ZWRDb250YWluZXIpOwogICAgbG9hZFJlcXVpcmVNYWluKCk7CiAgfQo8L3NjcmlwdD4KCjwvYm9keT4KPC9odG1sPgo=", "base64"));
  res.end();

  return __filename;
};
